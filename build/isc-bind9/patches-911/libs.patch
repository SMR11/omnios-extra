diff -wpruN '--exclude=*.orig' a~/config.threads.in a/config.threads.in
--- a~/config.threads.in	1970-01-01 00:00:00
+++ a/config.threads.in	1970-01-01 00:00:00
@@ -97,7 +97,7 @@ then
 	# Search for / configure pthreads in a system-dependent fashion.
 	#
 	case "$host" in
-		*-freebsd*)
+		*-freebsd*|*-solaris*)
 			# We don't want to set -lpthread as that break
 			# the ability to choose threads library at final
 			# link time and is not valid for all architectures.
diff -wpruN '--exclude=*.orig' a~/configure.ac a/configure.ac
--- a~/configure.ac	1970-01-01 00:00:00
+++ a/configure.ac	1970-01-01 00:00:00
@@ -913,7 +913,7 @@ AC_ARG_WITH(gssapi,
 # first try using krb5-config, if that does not work then fall back to "yes" method.
 
 case "$use_gssapi" in
-*/krb5-config|krb5-config|auto|yes)
+*/krb5-config|krb5-config)
     AC_MSG_RESULT(trying $use_gssapi)
     if test krb5-config = "$use_gssapi" -o auto = "$use_gssapi" -o yes = "$use_gssapi"
     then
@@ -1311,7 +1311,7 @@ then
 			CCNOOPT="$CCNOOPT -pthread"
 			;;
 		*-solaris*)
-			LIBS="$LIBS -lthread"
+			#LIBS="$LIBS -lthread"
 			;;
 		*-ibm-aix*)
 			STD_CDEFINES="$STD_CDEFINES -D_THREAD_SAFE"
